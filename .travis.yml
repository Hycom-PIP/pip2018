language: java
sudo: false
install: true
jdk: oraclejdk8

jobs:
  include:
  - stage: Discovery Service
    env: MODULE_DIR=discovery-service
  - stage: Edge Service
    env: MODULE_DIR=edge-service
  - stage: Hello Service
    env: MODULE_DIR=hello-service

before_install:
 - cd $MODULE_DIR

script:
 - mvn test
 - sonar-scanner